
name: mcpu
pack: new_proj
description: Run a series of simulated actions
enabled: true
runner_type: orquesta
entry_point: workflows/mcpu.yaml

parameters:
    cmd1:
       required: true
       type: string
       default: mpstat | awk '$3 ~ /CPU/ { for(i=1;i<=NF;i++) { if ($i ~ /%idle/) field=i } } $3 ~ /all/ { printf(100 - $field) }'
    cmd2:
       required: true
       type: string
       default: ps -eo pid,pcpu,user,args --sort=-%cpu | head -6 | head -c 1000


